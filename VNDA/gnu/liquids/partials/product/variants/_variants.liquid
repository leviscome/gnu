<input type="hidden" name="sku" value="{{ product.variants[0].sku }}">

{% assign attributes_1_name = product.variants | 
  map: 'properties' | 
  map: 'property1' | 
  map: 'name' | 
  uniq 
%}

{% assign attributes_2_name = product.variants | 
  map: 'properties' | 
  map: 'property2' | 
  map: 'name' | 
  uniq 
%}

{% assign attributes_3_name = product.variants | 
  map: 'properties' | 
  map: 'property3' | 
  map: 'name' | 
  uniq 
%}

{% assign attributes_1 = product.variants | 
  map: 'properties' | 
  map: 'property1' | 
  map: 'value' | 
  uniq 
%}

{% assign attributes_2 = product.variants | 
  map: 'properties' | 
  map: 'property2' | 
  map: 'value' | 
  uniq 
%}

{% assign attributes_3 = product.variants | 
  map: 'properties' | 
  map: 'property3' | 
  map: 'value' | 
  uniq 
%}

{% render 'partials/product/variants/attributes', 
  attributes: attributes_1, 
  attributes_name: attributes_1_name, 
  attributes_index: 1, 
  product: product 
%}

{% render 'partials/product/variants/attributes', 
  attributes: attributes_2, 
  attributes_name: attributes_2_name, 
  attributes_index: 2, 
  product: product 
%}

{% render 'partials/product/variants/attributes', 
  attributes: attributes_3, 
  attributes_name: attributes_3_name, 
  attributes_index: 3, 
  product: product 
%}
